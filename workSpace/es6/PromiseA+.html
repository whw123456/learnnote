@@include('../template/header.html',{
    "title": "PromiseA+"
})
<body>
    @@include('../template/nav.html',{
        "navArr":[
            "术语",
            "规范"
        ],
        "docsArr":[
        ]
    })
    <h3 id="1">1. 术语</h3>
    <pre>
        * 1.1 promise是具有then方法的独享或函数，其行为遵循本规范
        * 1.2 thenable是定义then方法的对象或函数
        * 1.3 value是任意合法的javascript值（包括undefined,promise,thenable）
        * 1.4 exception是使用throw语句抛出的值
        * 1.5 reason是promise状态失败时的值
    </pre>

    <h3 id="2">2. 规范</h3>
    <pre>
        * 2.1 Promise状态
            Promise必须处于以下三种状态之一：请求态 pending，完成态 fulfilled，拒绝态 reject

            2.1.1 当promise处于请求状态（pending）时
                2.1.1.1 promise可以转为fulfilled或rejected状态

            2.1.2 当promise处于完成状态（fulfilled）时
                2.1.2.1 promise不能转为任何其他状态
                2.1.2.2 必须有一个值，且此值不能改变
            
            2.1.3 当promise处于拒绝状态（rejected）时
                2.1.3.1 promise不能转为任何其他状态
                2.1.3.2 必须有一个原因（reason），且此原因不能改变

        * 2.2 then方法
                promise必须提供then方法来存取它当前或最终的值或者原因。
                promise的then方法接收两个参数：
                promise.then(onFulfilled, onRejected)

                2.2.1 onFulfilled和onRejected都是可选的参数：
                    2.2.1.1 如果 onFulfilled不是函数，必须忽略
                    2.2.1.1 如果 onRejected不是函数，必须忽略

                2.2.2 如果onFulfilled是函数:
                    2.2.2.1 此函数必须在promise 完成(fulfilled)后被调用,并把promise 的值作为它的第一个参数
                    2.2.2.2 此函数在promise完成(fulfilled)之前绝对不能被调用
                    2.2.2.2 此函数绝对不能被调用超过一次

                2.2.3 如果onRejected是函数:
                    2.2.2.1 此函数必须在promise rejected后被调用,并把promise 的reason作为它的第一个参数
                    2.2.2.2 此函数在promise rejected之前绝对不能被调用
                    2.2.2.2 此函数绝对不能被调用超过一次

                2.2.4 在执行上下文堆栈（execution context）仅包含平台代码之前，不得调用 onFulfilled和onRejected 3.1

    </pre>
</body>

</html>